{% import 'appbuilder/baselib.html' as baselib %}
{% import 'appbuilder/general/lib.html' as lib %}

<form id="filter_form" class="form-search" method="get">

    <div class="dropdown">
        <button class="btn btn-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        {{_("Add Filter")}}
        </button>
        <div class="dropdown-menu">
            {% for col in include_cols %}
            <a href="#" name="{{col}}" class="filter dropdown-item">
                {{ label_columns[col] }}</a>
            {% endfor %}
        </div>
    </div>

    <table class="table table-sm table-responsive table-hover filters">
        <tbody>

        </tbody>
    </table>

{{ lib.btn_search() }}
</form>

<script nonce="{{ baselib.get_nonce() }}">
	(function($) {
        const filter = new AdminFilters(
            '#filter_form',
            {{ label_columns | tojson }},
            {{ form_fields | tojson }},
            {{ search_filters | tojson }},
            {{ active_filters | tojson }}
        );
    })(jQuery);

</script>
